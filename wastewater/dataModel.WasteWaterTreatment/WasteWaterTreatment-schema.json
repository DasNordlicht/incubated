{
    "$schema": "http://json-schema.org/schema#",
    "$id": "https://smart-data-models.github.io/dataModel.WaterNetworkManagement/WaterNetworkManagement-schema.json",
    "title": "FIWARE - Wastewater Treatment base schema",
    "description": "Common NGSI-LD definitions for Wastewater Treatment data models",
    "type": "object",
    "definitions": {
        "ngsildProperty": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": [
                        "number",
                        "string",
                        "array"
                    ]
                },
                "unitCode": {
                    "type": "string"
                },
                "createdAt": {
                    "type": "string",
                    "format": "date-time"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                },
                "modifiedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "ngsildRelationship": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Relationship"
                    ]
                },
                "object": {
                    "type": [
                        "string"
                    ],
                    "format": "uri"
                },
                "createdAt": {
                    "type": "string",
                    "format": "date-time"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                },
                "modifiedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "object"
            ]
        },
        "DS": {
            "type": "object",
            "description": "Property. Dry solids concentration measured in a tank",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "NH4": {
            "type": "object",
            "description": "Property. Ammonia concentration measured in a tank",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "NO3": {
            "type": "object",
            "description": "Property. Nitrate concentration measured in a tank",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "DO": {
            "type": "object",
            "description": "Property. Dissolved oxygen concentration measured in a tank",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "Redox": {
            "type": "object",
            "description": "Property. Redox level measured in a tank",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "Sludge level": {
            "type": "object",
            "description": "Property. Sludge Level measured in a secondary settler tank",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "TN": {
            "type": "object",
            "description": "Property. Total Nitrogen concentration measured in a tank",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "Temperature": {
            "type": "object",
            "description": "Property. Water temperature measured in a tank",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "pH": {
            "type": "object",
            "description": "Property. Water pH level measured in a tank",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "airflow": {
            "type": "object",
            "description": "Property. Airflow blown by a blower",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "energy": {
            "type": "object",
            "description": "Property. Energy consumed by a blower in kW",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "pressure": {
            "type": "object",
            "description": "Property. Pressure measurement in the blower",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "airflowEstimation": {
            "type": "object",
            "description": "Property. Airflow estimation by AI soft sensor simulation.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "status": {
            "type": "object",
            "description": "Property. Status of a Valve.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": [
                        "number",
                        "string",
                        "array"
                    ],
                    "enum": [
                        "OPEN",
                        "CLOSED",
                        "CV"
                    ]
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "tag": {
            "type": "object",
            "description": "Property. Signal tag of a given valve.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": [
                        "number",
                        "string"
                    ]
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "emissionFlow": {
            "type": "object",
            "description": "Property. Gas emission Flow volume measured at a junction prior to being emitted in an off-gas stack.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "TOC": {
            "type": "object",
            "description": "Property.TOC concentration measurement at the influent or effluent.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "TIC": {
            "type": "object",
            "description": "Property.TIC concentration measurement at the influent or effluent.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "PO4": {
            "type": "object",
            "description": "Property. P04 concentration measurement at the influent or effluent.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "BOD": {
            "type": "object",
            "description": "Property.BOD concentration measurement at the influent or effluent.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "COD": {
            "type": "object",
            "description": "Property.COD concentration measurement at the influent or effluent.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "Flowrate": {
            "type": "object",
            "description": "Property.Flowrate at the influent, effluent or recirculations.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "N2O": {
            "type": "object",
            "description": "Property. N2O gas emissions from an off-gas stack entity.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "CO2": {
            "type": "object",
            "description": "Property. CO2 gas emissions from an off-gas stack entity.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "CH4": {
            "type": "object",
            "description": "Property. CH4 gas emissions from an off-gas stack entity.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        },
        "O2": {
            "type": "object",
            "description": "Property. O2 gas emissions from an off-gas stack entity.",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Property"
                    ]
                },
                "value": {
                    "type": "number"
                },
                "unitCode": {
                    "type": "string"
                },
                "observedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "type",
                "value"
            ]
        }
    }
}